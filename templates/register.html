<!doctype html>
<html lang="ru">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
      body { background: #f8f6ff; }
      .card { border: none; border-radius: 1.5rem; }
      .btn-purple {
        background: linear-gradient(90deg, #7c3aed 0%, #a78bfa 100%);
        color: #fff;
        border: none;
        border-radius: 2rem;
        font-weight: 600;
        box-shadow: 0 2px 8px rgba(124,58,237,0.08);
        transition: background 0.2s;
      }
      .btn-purple:hover {
        background: linear-gradient(90deg, #a78bfa 0%, #7c3aed 100%);
        color: #fff;
      }
      .card-title {
        color: #7c3aed;
        font-weight: 700;
      }
      a { color: #7c3aed; }
      a:hover { color: #4c1d95; }
      /* --- –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å --- */
      @media (max-width: 768px) {
        .container, .container-fluid { padding: 0 5px !important; }
        .card { border-radius: 1rem; }
        .card-title { font-size: 1.2rem; }
        .btn, .btn-purple { font-size: 1rem; padding: 10px 0; }
      }
      @media (max-width: 480px) {
        .card { border-radius: 0.5rem; }
        .card-title { font-size: 1rem; }
        .btn, .btn-purple { font-size: 0.95rem; }
      }
    </style>
  </head>
  <body>
    <!-- –ü–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å —Ç–µ–º—ã -->
    <div style="position: absolute; top: 24px; right: 40px; z-index: 1000;">
      <div class="form-check form-switch d-flex align-items-center">
        <input class="form-check-input" type="checkbox" id="themeSwitch">
        <label class="form-check-label ms-2" for="themeSwitch" id="themeSwitchLabel">–¢—ë–º–Ω–∞—è —Ç–µ–º–∞</label>
      </div>
    </div>
    <!-- –ö–Ω–æ–ø–∫–∞ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è —è–∑—ã–∫–∞ -->
    <div id="langSwitcher" style="position:fixed;left:20px;bottom:20px;z-index:2000;">
      <button class="btn btn-light dropdown-toggle d-flex align-items-center" type="button" id="langDropdown" data-bs-toggle="dropdown" aria-expanded="false">
        <span id="langFlag">üá∑üá∫</span> <span id="langLabel" class="ms-2">RU</span>
      </button>
      <ul class="dropdown-menu" aria-labelledby="langDropdown">
        <li><a class="dropdown-item lang-option" href="#" data-lang="ru"><span class="me-2">üá∑üá∫</span>–†—É—Å—Å–∫–∏–π</a></li>
        <li><a class="dropdown-item lang-option" href="#" data-lang="en"><span class="me-2">üá¨üáß</span>English</a></li>
      </ul>
    </div>
    <div class="container py-5">
      <div class="row justify-content-center">
        <div class="col-md-5">
          <div class="card shadow-sm">
            <div class="card-body">
              <h1 class="card-title mb-4 text-center">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</h1>
              {% with messages = get_flashed_messages(with_categories=true) %}
                {% if messages %}
                  {% for category, message in messages %}
                    <div class="alert alert-{{ 'success' if category=='success' else 'danger' if category=='error' else 'info' if category=='info' else 'warning' if category=='warning' else 'primary' }}">
                      {{ message }}
                    </div>
                  {% endfor %}
                {% endif %}
              {% endwith %}
              <form method="post">
                <div class="mb-3">
                  <label for="username" class="form-label">–õ–æ–≥–∏–Ω</label>
                  <input type="text" class="form-control" id="username" name="username" required>
                </div>
                <div class="mb-3">
                  <label for="password" class="form-label">–ü–∞—Ä–æ–ª—å</label>
                  <input type="password" class="form-control" id="password" name="password" required>
                </div>
                <button type="submit" class="btn btn-purple w-100">–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è</button>
              </form>
              <div class="mt-3 text-center">
                <a href="{{ url_for('login') }}">–£–∂–µ –µ—Å—Ç—å –∞–∫–∫–∞—É–Ω—Ç? –í–æ–π—Ç–∏</a>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script>
      // –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π —Å–∫—Ä–∏–ø—Ç –¥–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ —Ç–µ–º—ã
      function setTheme(theme) {
        if (theme === 'dark') {
          document.documentElement.setAttribute('data-theme', 'dark');
          localStorage.setItem('theme', 'dark');
          document.getElementById('themeSwitch').checked = true;
          document.getElementById('themeSwitchLabel').textContent = '—Å–≤–µ—Ç–ª–∞—è —Ç–µ–º–∞';
        } else {
          document.documentElement.setAttribute('data-theme', 'light');
          localStorage.setItem('theme', 'light');
          document.getElementById('themeSwitch').checked = false;
          document.getElementById('themeSwitchLabel').textContent = '—Ç—ë–º–Ω–∞—è —Ç–µ–º–∞';
        }
      }
      // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Ç–µ–º—ã –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
      setTheme(localStorage.getItem('theme') || 'light');
      // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—è
      document.getElementById('themeSwitch').addEventListener('change', function() {
        setTheme(this.checked ? 'dark' : 'light');
      });
      // –õ–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è
      const translations = {
        ru: {
          regTitle: '–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è',
          username: '–õ–æ–≥–∏–Ω',
          password: '–ü–∞—Ä–æ–ª—å',
          regBtn: '–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è',
          already: '–£–∂–µ –µ—Å—Ç—å –∞–∫–∫–∞—É–Ω—Ç? –í–æ–π—Ç–∏',
          theme: '–¢—ë–º–Ω–∞—è —Ç–µ–º–∞',
        },
        en: {
          regTitle: 'Registration',
          username: 'Username',
          password: 'Password',
          regBtn: 'Sign up',
          already: 'Already have an account? Login',
          theme: 'Dark theme',
        }
      };
      function setLang(lang) {
        localStorage.setItem('lang', lang);
        document.getElementById('langLabel').textContent = lang.toUpperCase();
        document.getElementById('langFlag').textContent = lang === 'ru' ? 'üá∑üá∫' : 'üá¨üáß';
        document.querySelector('.card-title').textContent = translations[lang].regTitle;
        document.querySelector('label[for="username"]').textContent = translations[lang].username;
        document.querySelector('label[for="password"]').textContent = translations[lang].password;
        document.querySelector('button[type="submit"]').textContent = translations[lang].regBtn;
        document.querySelector('.mt-3.text-center a').textContent = translations[lang].already;
      }
      document.querySelectorAll('.lang-option').forEach(el => {
        el.addEventListener('click', function(e) {
          e.preventDefault();
          setLang(this.dataset.lang);
        });
      });
      setLang(localStorage.getItem('lang') || 'ru');
    </script>
  </body>
</html> 